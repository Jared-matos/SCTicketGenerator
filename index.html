<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>
  </head>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js"></script>

  <style>
    .tableRow {
      display: table-row;
      font-family: calibri;
      size: 11pt;
    }
    .text {
      display: table-cell;
      font-family: calibri;
      size: 11pt;
      width: 200px;
    }
    .iptext {
      display: table-cell;
      font-family: calibri;
      size: 11pt;
      width: 100%;
    }
    #oText {
      display: table-cell;
    }
    #updateSpan {
      display: none;
    }
    #updateText {
      display: none;
    }
    #tDiv {
      height: 300px;
      width: 375px;
      border-radius: 5px;
      background-color: #f2f2f2;
      padding: 20px;
    }
    .copyButton {
      display: table-cell;
    }
    #oText {
      resize: none;
      display: none;  
    }
  </style>

  <div id="tDiv">
    <div class="tableRow">
      <span class="text">Member ID</span>
      <input class="iptext" type="text" id="mbrIDText" value="xx12345x" />
    </div>
    <div class="tableRow">
      <span class="text">Member's Full Name</span>
      <input class="iptext" type="text" id="mbrNameText" value="John Smith" />
    </div>
    <div class="tableRow">
      <span class="text">Member's DOB'</span>
      <input class="iptext" type="text" id="mbrDOB" value="2001-01-01" />
    </div>
    <div class="tableRow">
      <span class="text">Provider ID</span>
      <input class="iptext" type="text" id="provIDText" value="123456789" />
    </div>
    <div class="tableRow">
      <span class="text">Provider Name</span>
      <input class="iptext" type="text" id="provNamesText" value="Hospital Center"/>
    </div>
    <div class="tableRow">
      <span class="text">Provider Address</span>
      <input class="iptext" type="text" id="provADDText" value="1 Hospital Way"/>
    </div>
    <div class="tableRow">
      <span class="text">Was there an update?</span>
      <input type="checkbox" id="updateBox" onclick="toggleUpdateField()" />
    </div>
    <div class="tableRow">
      <span id="updateSpan" class="text">What was updated and when?</span>
      <input class="iptext" type="text" id="updateText" value="Update happened"/>
    </div>
    <div class="tableRow">
      <span class="text">DOS</span>
      <input class="iptext" type="text" id="dos" value="2015-01-01" />
    </div>
    <div class="tableRow">
      <span class="text">Procedure Code</span>
      <input class="iptext" type="text" id="pCode" value="90834" />
    </div>
    <div class="tableRow">
      <span class="text">Decision Code</span>
      <input class="iptext" type="text" id="dCode" value="dservnotcert" />
    </div>
    <div class="tableRow">
      <span class="text">Description</span>
      <input class="iptext" type="text" id="desc" value="claim denied due to denial"/>
    </div>
    <div class="tableRow">
      <span class="text">Reason for Ticket</span>
      <input class="iptext" type="text" id="reason" value="wait on line" />
    </div>
    <div class="copyButton">
      <textarea readonly type="text" id="oText"></textarea>
      <button type="button" onclick="copyClipboard()">Copy to Clipboard</button>
      <button type="button" onclick="clearAll()">Clear All</button>
    </div>
  </div>

  
  <script type="text/javascript">
    console.clear();

    var mbrDOB = flatpickr('#mbrDOB',{dateFormat: "m/d/Y", defaultDate: ""});
    var dos = flatpickr('#dos',{dateFormat: "m/d/Y", defaultDate: ""});

    function toggleUpdateField() {
      if (document.getElementById("updateSpan").style.display == "table-cell") {
        document.getElementById("updateSpan").style.display = "none";
        document.getElementById("updateText").style.display = "none";
        document.getElementById("tDiv").style.height = "300px";
      } else {
        document.getElementById("updateSpan").style.display = "table-cell";
        document.getElementById("updateText").style.display = "table-cell";
        document.getElementById("tDiv").style.height = "320px";
      }
    }

    function clearAll(){
      document.getElementById("mbrIDText").value = "";
      document.getElementById("mbrNameText").value = "";
      document.getElementById("mbrDOB").value = "";
      document.getElementById("provIDText").value = "";
      document.getElementById("provNamesText").value = "";
      document.getElementById("provADDText").value = "";
      document.getElementById("updateBox").checked = false;
      document.getElementById("updateText").value = "";
      document.getElementById("dos").value = "";
      document.getElementById("pCode").value = "";
      document.getElementById("dCode").value = "";
      document.getElementById("desc").value = "";
      document.getElementById("reason").value = "";
    }

    function copyClipboard() {
      var MBRID = document.getElementById("mbrIDText").value;
      var MBRNAME = document.getElementById("mbrNameText").value;
      var MBRDOB = document.getElementById("mbrDOB").value;
      var PROVID = document.getElementById("provIDText").value;
      var PROVNAME = document.getElementById("provNamesText").value;
      var PROVADD = document.getElementById("provADDText").value;
      var URadio = document.getElementById("updateBox").checked;
      var UTEXT = document.getElementById("updateText").value;
      var DOS = document.getElementById("dos").value;
      var PROC = document.getElementById("pCode").value;
      var DCODE = document.getElementById("dCode").value;
      var DESC = document.getElementById("desc").value;
      var REAS = document.getElementById("reason").value;
      var outputText = "";

      
      outputText = outputText.concat(
        "Member Demos:",
        "\r\n");
      if(MBRID !== ""){
        outputText = outputText.concat(
        "ID: ",
        MBRID,
        "\r\n");
      }
      if(MBRNAME !== ""){
        outputText = outputText.concat(
        "Name: ",
        MBRNAME,
        "\r\n");
      }
      if(MBRDOB !== ""){
        outputText = outputText.concat(
        "DOB: ",
        MBRDOB,
        "\r\n");
      }
      outputText = outputText.concat("\r\n","Provider Demos: ","\r\n");

      if(PROVID !== ""){
        outputText = outputText.concat(
        "Provider ID: ",
        PROVID,
        "\r\n");
      }
      if(PROVNAME !== ""){
        outputText = outputText.concat(PROVNAME);
      }
      if((PROVNAME !== "")&&(PROVADD !== "")){
        outputText = outputText.concat(" - ");
      }
      if(PROVADD !== ""){
        outputText = outputText.concat(PROVADD);
      }
      outputText = outputText.concat("\r\n","\r\n");
        
      if (URadio == true) {
        outputText = outputText.concat("Update Occured: ", UTEXT, "\r\n");
      } else {
        outputText= outputText.concat("No Update Occured", "\r\n");
      }
      outputText = outputText.concat(
        "DOS: ",
        DOS,
        "\r\n",
        "Procdedure Code: ",
        PROC,
        "\r\n",
        "Decision Code: ",
        DCODE,
        "\r\n",
        "Description: ",
        DESC,
        "\r\n",
        "Reason for Ticket: ",
        REAS
      );
      document.getElementById("oText").style.display = "block";
      document.getElementById("oText").value = outputText;

      var copyTextarea = document.getElementById("oText");
      copyTextarea.focus();
      copyTextarea.select();
      try {
        document.execCommand("copy");
      } catch (err) {
        alert("Oops, unable to copy");
      }
      console.log(outputText);

      document.getElementById("oText").style.display = "none";
      return false;
    }
  </script>
  <!--Code hosted on Github @ https://github.com/Jared-matos/SCTicketGenerator-->
</html>
